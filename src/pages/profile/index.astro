---
import { Button } from "@/components/ui/button";
import Layout from "@/layouts/Layout.astro";

const { user } = Astro.locals;
---

<Layout title="Profile">
  <div class="min-h-screen bg-gray-50 py-12">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="bg-white shadow-lg rounded-2xl p-8">
          <div class="border-b border-gray-200 pb-6 mb-6">
            <h1 class="text-3xl font-bold text-gray-900">My Profile</h1>
            <p class="mt-2 text-gray-600">
              Manage your account settings and preferences
            </p>
          </div>

          <div class="space-y-6">
            <div class="flex items-center space-x-4">
              <div
                class="h-14 w-14 rounded-full bg-indigo-100 flex items-center justify-center"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-8 h-8 text-indigo-600"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
                  ></path>
                </svg>
              </div>
              <div>
                <h2 class="text-xl font-semibold text-gray-900">
                  {user?.email}
                </h2>
                <p class="text-gray-500">
                  Member since {new Date(user?.createdAt).toLocaleDateString()}
                </p>
              </div>
            </div>

            <div class="bg-gray-50 rounded-xl p-6">
              <h3 class="text-lg font-medium text-gray-900 mb-4">
                Account Details
              </h3>
              <dl class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                <div>
                  <dt class="text-sm font-medium text-gray-500">Email</dt>
                  <dd class="mt-1 text-sm text-gray-900">{user?.email}</dd>
                </div>
                <div>
                  <dt class="text-sm font-medium text-gray-500">Role</dt>
                  <dd class="mt-1 text-sm text-gray-900 capitalize">
                    {user?.role || "user"}
                  </dd>
                </div>
                <div>
                  <dt class="text-sm font-medium text-gray-500">ID</dt>
                  <dd class="mt-1 text-sm text-gray-900">{user?.id}</dd>
                </div>
                <div>
                  <dt class="text-sm font-medium text-gray-500">
                    Last Updated
                  </dt>
                  <dd class="mt-1 text-sm text-gray-900">
                    {
                      user?.updatedAt
                        ? new Date(user.updatedAt).toLocaleDateString()
                        : ""
                    }
                  </dd>
                </div>
              </dl>
            </div>
            <Button variant="outline">
              <a href="/profile/edit">Edit Profile</a>
            </Button>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>
